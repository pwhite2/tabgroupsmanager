<?xml version="1.0" encoding="UTF-8"?>
<!--
    TabGroups Manager
    ButtonProvider, 100 series
-->
<Module>
    <ModulePrefs>
        <Require feature="dynamic-height"/>
    </ModulePrefs>
    <UserPref name="sValue" default_value="#"/>
    <UserPref name="sBackgroundColor" default_value="#CCCCCC"/>
    <UserPref name="sColor" default_value="#FFFFFF"/>
    <UserPref name="sBackgroundColorHover" default_value="__UP_sBackgroundColor"/>
    <UserPref name="sColorHover" default_value="__UP_sColor"/>
    <UserPref name="sCallbackOrLocation" default_value="#"/>
    <UserPref name="sNoscriptLocation" default_value="#"/>
    <Content type="html">
        <![CDATA[
            <style type="text/css">
                *
                {
                    margin:0;
                    padding:0;
                }
                #a
                {
                    text-align:center;
                }
                #b
                {
                    margin:0 auto;
                    background-color:__UP_sBackgroundColor;
                    color:__UP_sColor;
                    font:bold 1em sans-serif;
                    border:0;
                    padding:1em 2em 1em 2em;
                    text-decoration:none;
                    cursor:pointer;
                    border-radius:.5em;
                }
                #b:hover
                {
                    background-color:__UP_sBackgroundColorHover;
                    color:__UP_sColorHover;
                }
            </style>
            <div id="a">
                <noscript>
                    <form method="GET" action="__UP_sNoscriptLocation">
                        <input type="submit" value="__UP_sValue" id="b">
                    </form>
                </noscript>
            </div>
            <script type="text/javascript">
                gadgets.util.registerOnLoadHandler(function()
                {
                    var $ = function(s){return document.getElementById(s);},
                        _ = new gadgets.prefs(),
                        a = $('a'),
                        b = document.createElement('button'),
                        c = document.createTextNode(_.getString('sValue'),
                        d = _.getString('sCallbackOrLocation');
                    try
                    {
                        f = true;
                        var e = eval(d),
                    }
                    catch(e)
                    {
                        f = false;
                        console.log('ButtonProviderException:  ' + e.message);
                    }
                    b.setAttribute('id','b');
                    b.appendChild(c);
                    a.appendChild(b);
                    gadgets.window.adjustHeight
                    f && a.addEventListener('click',function()
                    {
                        (typeof e === 'object') ? window.open(e[0],'_top') : e;
                    },false);
                });
            </script>
        ]]>
    </Content>
</Module>